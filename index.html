<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roligt prov i samh√§llskunskap ‚Äì √Örskurs 4</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<h1>üß† Sp√§nnande samh√§llsquiz! üåç</h1>

<!-- Fr√•gor -->
<form id="quizForm">

    <div class="question" id="q1">
        <p>1. Vad √§r typiskt f√∂r en demokrati?</p>
        <input type="radio" name="q1" value="correct" id="q1a">
        <label for="q1a">Alla har r√§tt att r√∂sta och yttrandefrihet</label><br>
        <input type="radio" name="q1" value="wrong" id="q1b">
        <label for="q1b">Endast en person best√§mmer</label><br>
        <div class="info" id="info1" style="display: none;">Tips: I en demokrati har alla r√∂str√§tt och yttrandefrihet √§r en viktig del.</div>
    </div>

    <div class="question" id="q2" style="display:none;">
        <p>2. Vad √§r typiskt f√∂r en diktatur?</p>
        <input type="radio" name="q2" value="correct" id="q2a">
        <label for="q2a">En person eller liten grupp har all makt</label><br>
        <input type="radio" name="q2" value="wrong" id="q2b">
        <label for="q2b">Alla f√•r r√∂sta och best√§mma</label><br>
        <div class="info" id="info2" style="display: none;">Tips: I en diktatur har en person eller en liten grupp all makt.</div>
    </div>

    <div class="question" id="q3" style="display:none;">
        <p>3. Hur r√∂star man i ett demokratiskt samh√§lle?</p>
        <input type="radio" name="q3" value="correct" id="q3a">
        <label for="q3a">Genom att g√• till en vallokal eller r√∂sta via post</label><br>
        <input type="radio" name="q3" value="wrong" id="q3b">
        <label for="q3b">Genom att chefen best√§mmer √•t dig</label><br>
        <div class="info" id="info3" style="display: none;">Tips: I en demokrati r√∂star man antingen i vallokalen eller via post.</div>
    </div>

    <div class="question" id="q4" style="display:none;">
        <p>4. Vad √§r skillnaden mellan direkt och representativ demokrati?</p>
        <input type="radio" name="q4" value="correct" id="q4a">
        <label for="q4a">Direkt demokrati inneb√§r att alla r√∂star om varje fr√•ga, representativ demokrati inneb√§r att man v√§ljer representanter som r√∂star √•t dig</label><br>
        <input type="radio" name="q4" value="wrong" id="q4b">
        <label for="q4b">Det finns ingen skillnad</label><br>
        <div class="info" id="info4" style="display: none;">Tips: Direkt demokrati inneb√§r att alla r√∂star, medan representativ demokrati inneb√§r att man v√§ljer representanter som r√∂star √•t en.</div>
    </div>

    <div class="question" id="q5" style="display:none;">
        <p>5. Hur visar du respekt f√∂r andras √•sikter i en diskussion?</p>
        <textarea id="q5text" rows="4" cols="50"></textarea>
        <div class="info" id="info5" style="display: none;">Tips: T√§nk p√• att lyssna, inte avbryta, och visa respekt f√∂r andras √•sikter.</div>
    </div>

    <div class="question" id="q6" style="display:none;">
        <p>6. Hur kan du och dina klasskamrater p√•verka beslut i skolan?</p>
        <textarea id="q6text" rows="4" cols="50"></textarea>
        <div class="info" id="info6" style="display: none;">Tips: Kom ih√•g att ni kan p√•verka genom klassr√•d eller elevr√•d.</div>
    </div>
		
		<div class="question" id="q7" style="display:none;">
        <p>7. Kan du ge ett exempel p√• hur m√§nniskor i ett icke-demokratiskt land har lyckats inf√∂ra demokrati?</p>
        <textarea id="q7text" rows="4" cols="50"></textarea>
    </div>

    <div class="question" id="q8" style="display:none;">
        <p>8. Vad inneb√§r det att kompromissa i en grupp?</p>
        <input type="radio" name="q8" value="correct" id="q8a">
        <label for="q8a">Att alla i gruppen ger upp lite av sina √•sikter f√∂r att n√• en gemensam l√∂sning</label><br>
        <input type="radio" name="q8" value="wrong" id="q8b">
        <label for="q8b">Att en person alltid f√•r sin vilja igenom</label><br>
    </div>

    <div class="question" id="q9" style="display:none;">
        <p>9. Vad √§r en elevr√•dsrepresentants uppgift?</p>
        <input type="radio" name="q9" value="correct" id="q9a">
        <label for="q9a">Att representera sin klass och f√∂ra fram deras √•sikter i m√∂ten</label><br>
        <input type="radio" name="q9" value="wrong" id="q9b">
        <label for="q9b">Att best√§mma allt sj√§lv</label><br>
    </div>

    <div class="question" id="q10" style="display:none;">
        <p>10. Hur kan du som individ p√•verka demokratiska beslut i samh√§llet?</p>
        <textarea id="q10text" rows="4" cols="50"></textarea>
    </div>

    <div class="question" id="q11" style="display:none;">
        <p>11. Vad inneb√§r yttrandefrihet i en demokrati?</p>
        <input type="radio" name="q11" value="correct" id="q11a">
        <label for="q11a">Att alla f√•r s√§ga vad de tycker s√• l√§nge de inte kr√§nker n√•gon</label><br>
        <input type="radio" name="q11" value="wrong" id="q11b">
        <label for="q11b">Att endast ledaren f√•r yttra sig</label><br>
    </div>

    <div class="question" id="q12" style="display:none;">
        <p>12. Vad √§r en folkomr√∂stning?</p>
        <input type="radio" name="q12" value="correct" id="q12a">
        <label for="q12a">En omr√∂stning d√§r alla medborgare f√•r delta i ett specifikt beslut</label><br>
        <input type="radio" name="q12" value="wrong" id="q12b">
        <label for="q12b">En omr√∂stning d√§r bara politiker f√•r r√∂sta</label><br>
    </div>

    <div class="question" id="q13" style="display:none;">
        <p>13. Kan du n√§mna ett land som nyligen har √∂verg√•tt fr√•n diktatur till demokrati?</p>
        <textarea id="q13text" rows="4" cols="50"></textarea>
    </div>

    <div class="question" id="q14" style="display:none;">
        <p>14. Hur kan du hj√§lpa till att st√§rka demokratin i skolan?</p>
        <textarea id="q14text" rows="4" cols="50"></textarea>
    </div>

    <div class="question" id="q15" style="display:none;">
        <p>15. Vad inneb√§r det att f√∂lja majoritetens beslut √§ven om man inte h√•ller med?</p>
        <input type="radio" name="q15" value="correct" id="q15a">
        <label for="q15a">Att man accepterar beslutet men kan forts√§tta uttrycka sin √•sikt</label><br>
        <input type="radio" name="q15" value="wrong" id="q15b">
        <label for="q15b">Att man ignorerar det helt</label><br>
    </div>

    <!-- Fler fr√•gor som forts√§tter... -->

    <!-- Navigeringsknappar -->
    <button type="button" id="nextButton" onclick="nextQuestion()">N√§sta ‚û°Ô∏è</button><br>
    <button type="button" id="prevButton" onclick="prevQuestion()" style="display:none;">‚¨ÖÔ∏è Tillbaka</button>
    <button type="button" id="submitButton" style="display:none;" onclick="submitQuiz()">üéâ R√§tta!</button>

</form>

<!-- Resultat -->
<div id="result" class="result" style="display:none;"></div>

<!-- Fr√•gor att √∂va p√• -->
<div id="incorrectQuestions" style="display:none;">
    <h2>Fr√•gor att √∂va p√•</h2>
    <ul id="incorrectList"></ul>
</div>

<!-- B√∂rja om-knapp -->
<button id="retryButton" style="display:none;" onclick="restartQuiz()">üîÑ B√∂rja om</button>

<!-- JavaScript -->
<script>
let currentQuestion = 1;
const totalQuestions = 15; // Justera f√∂r att matcha antalet fr√•gor
let incorrectAnswers = [];
let startTime;

// Nyckelord f√∂r fritextfr√•gor
const q5Keywords = ['respekt', 'lyssna', 'inte avbryta'];
const q6Keywords = ['klassr√•d', 'elevr√•d', 'diskutera'];

// Visar fr√•gorna
function showQuestion(questionNumber) {
    for (let i = 1; i <= totalQuestions; i++) {
        document.getElementById('q' + i).style.display = 'none'; // D√∂lj alla fr√•gor
    }
    document.getElementById('q' + questionNumber).style.display = 'block'; // Visa aktuell fr√•ga

    // Hantera navigeringsknappar
    if (questionNumber === 1) {
        document.getElementById('prevButton').style.display = 'none';
    } else {
        document.getElementById('prevButton').style.display = 'inline-block';
    }
    if (questionNumber === totalQuestions) {
        document.getElementById('nextButton').style.display = 'none';
        document.getElementById('submitButton').style.display = 'inline-block';
    } else {
        document.getElementById('nextButton').style.display = 'inline-block';
        document.getElementById('submitButton').style.display = 'none';
    }
}

function nextQuestion() {
    if (currentQuestion < totalQuestions) {
        currentQuestion++;
        showQuestion(currentQuestion);
    }
}

function prevQuestion() {
    if (currentQuestion > 1) {
        currentQuestion--;
        showQuestion(currentQuestion);
    }
}

function submitQuiz() {
    let correctAnswers = 0;
    incorrectAnswers = [];

    // Bed√∂m flervalsfr√•gor
    for (let i = 1; i <= 4; i++) {
        const answer = document.querySelector(`input[name="q${i}"]:checked`);
        if (answer && answer.value === "correct") {
            correctAnswers++;
        } else {
            incorrectAnswers.push(i);
        }
    }

    // Fritextfr√•gor bed√∂ms genom att leta efter nyckelord
    if (checkFreeText('q5text', q5Keywords)) correctAnswers++; else incorrectAnswers.push(5);
    if (checkFreeText('q6text', q6Keywords)) correctAnswers++; else incorrectAnswers.push(6);

    const score = (correctAnswers / totalQuestions) * 100;

    // D√∂lj fr√•gorna och visa resultatet
    document.getElementById('quizForm').style.display = 'none';
    const resultElement = document.getElementById('result');
    resultElement.style.display = 'block';
    resultElement.textContent = `Du fick ${correctAnswers} av ${totalQuestions} r√§tt (${score.toFixed(2)}%)`;

    // Visa fr√•gor d√§r anv√§ndaren svarade fel och l√•t dem g√• tillbaka
    if (incorrectAnswers.length > 0) {
        const incorrectList = document.getElementById('incorrectList');
        incorrectList.innerHTML = ''; // T√∂m listan
        incorrectAnswers.forEach(q => {
            const listItem = document.createElement('li');
            const link = document.createElement('a');
            link.href = "#";
            link.textContent = `Fr√•ga ${q}`;
            link.onclick = function() {
                goToIncorrectQuestion(q);
            };
            listItem.appendChild(link);
            incorrectList.appendChild(listItem);
        });
        document.getElementById('incorrectQuestions').style.display = 'block';
    }

    document.getElementById('retryButton').style.display = 'block'; // Visa "B√∂rja om"-knappen
}

// Funktion f√∂r att bed√∂ma fritextsvar
function checkFreeText(textAreaId, keywords) {
    const userText = document.getElementById(textAreaId).value.toLowerCase();
    return keywords.some(keyword => userText.includes(keyword.toLowerCase()));
}

function restartQuiz() {
    // Nollst√§ll fr√•gor och visa f√∂rsta fr√•gan
    document.getElementById('quizForm').style.display = 'block';
    document.getElementById('result').style.display = 'none';
    document.getElementById('incorrectQuestions').style.display = 'none';
    document.getElementById('retryButton').style.display = 'none';

    // Nollst√§ll flervalsfr√•gor
    for (let i = 1; i <= totalQuestions; i++) {
        const answers = document.querySelectorAll(`input[name="q${i}"]`);
        answers.forEach((answer) => {
            answer.checked = false;
        });

        // Nollst√§ll fritextsvar
        const textArea = document.getElementById(`q${i}text`);
        if (textArea) {
            textArea.value = ''; // Nollst√§ll textinmatning
        }

        // D√∂ljer informationsrutan
        const infoElement = document.getElementById(`info${i}`);
        if (infoElement) {
            infoElement.style.display = 'none';
        }
    }
    currentQuestion = 1;
    showQuestion(currentQuestion);
}

// Funktion f√∂r att g√• tillbaka till en specifik fr√•ga och visa en informationsruta
function goToIncorrectQuestion(questionNumber) {
    showQuestion(questionNumber);

    // Visa hj√§lpande info
    const infoElement = document.getElementById(`info${questionNumber}`);
    if (infoElement) {
        infoElement.style.display = 'block';
    }
}

// Visa f√∂rsta fr√•gan n√§r sidan laddas
window.onload = function() {
    showQuestion(currentQuestion); // Visa f√∂rsta fr√•gan
};
</script>

</body>
</html>
